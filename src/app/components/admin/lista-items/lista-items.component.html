<!-- <div class="myPositionBottom">
  <button class="btn btn-primary btn-circle-lg shadow" (click)="agregarItem()">
    <i-tabler name="plus"></i-tabler>
  </button>
</div> -->

<div class="sticky-top shadow-sm">
    <div class="container d-flex justify-content-between align-items-center py-3 py-md-4 bg-white">

      <div class="d-flex align-items-center">
        <button class="me-2" mat-icon-button [routerLink]=" '/admin/' + idNegocio">
          <i-tabler name="arrow-left"></i-tabler>
        </button>
        <p class="h3 mb-0">Productos</p>
      </div>

      <button mat-mini-fab color="primary" (click)="agregarItem()" class="d-block d-md-none">
        <i-tabler name="plus"></i-tabler>
      </button>

      <div class="d-none d-md-inline-flex gap-2">

        <!-- <button class="btn btn-outline-primary btn-sm" (click)="duplicarItems()">
          <i-tabler name="copy"></i-tabler>
          <span class="ms-1 d-none d-md-inline-block">Copiar items</span>
        </button> -->
  
        <button class="btn btn-outline-primary btn-sm" (click)="agregarItem()">
          <i-tabler name="plus"></i-tabler>
          <span class="ms-1 d-none d-md-inline-block">Agregar producto</span>
        </button>

      </div>

    

    </div>
</div>



<div class="container">

  <!-- <div class="grillaItemsAdmin">
    <app-card-item-admin *ngFor="let item of items; let i = index; trackBy: trackByPublicado" [idNegocio]="idNegocio" [item]="item"></app-card-item-admin>
  </div> -->

  <mat-accordion [multi]="false">
    <mat-expansion-panel *ngFor="let group of itemsGroup; let i = index">
      <mat-expansion-panel-header>
        <p class="lead mb-0">{{group.categoria}}</p>
      </mat-expansion-panel-header>
      <div class="grillaItemsAdmin">
        <app-card-item-admin *ngFor="let item of group.items; let i = index; trackBy: trackByPublicado" [idNegocio]="idNegocio" [item]="item"></app-card-item-admin>
      </div>
    </mat-expansion-panel>
  </mat-accordion>

</div>



<!-- <div class="table-responsive">

  <table mat-table [dataSource]="itemsData" matSort class="example-table" [trackBy]="trackByPublicado">

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Código</th>
      <td mat-cell *matCellDef="let item"> {{ item.id }} </td>
    </ng-container>

    <ng-container matColumnDef="fechaCreacion">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha creación</th>
      <td mat-cell *matCellDef="let item"> {{ item.fechaCreacion.toDate() | date: 'short' }} </td>
    </ng-container>

    <ng-container matColumnDef="imagen">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Imagen</th>
      <td mat-cell *matCellDef="let item"> <img class="imageItemAdmin border my-2 rounded" [src]="item.image">
      </td>
    </ng-container>

    <ng-container matColumnDef="nombre">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
      <td mat-cell *matCellDef="let item"> {{item.nombre}} </td>
    </ng-container>

    <ng-container matColumnDef="categoria">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Categoría</th>
      <td mat-cell *matCellDef="let item"> {{item.categoria}} </td>
    </ng-container>

    <ng-container matColumnDef="precio">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Precio</th>
      <td mat-cell *matCellDef="let item"> {{item.precio}} </td>
    </ng-container>

    <ng-container matColumnDef="precioDescuento">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Precio dscto.</th>
      <td mat-cell *matCellDef="let item"> {{item.precioDescuento}} </td>
    </ng-container>

    <ng-container matColumnDef="descripcion">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Descripcion</th>
      <td mat-cell *matCellDef="let item"> {{item.descripcion | slice: 0:64}}...</td>
    </ng-container>

    <ng-container matColumnDef="publicado">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Publicado</th>
      <td mat-cell *matCellDef="let item">
        <mat-slide-toggle color="primary" #toggle [ngModel]="item.publicado" (ngModelChange)="actualizarPublicado(item.id, $event)">
        </mat-slide-toggle>
      </td>
    </ng-container>

    <ng-container matColumnDef="destacado">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Destacado</th>
      <td mat-cell *matCellDef="let item">

        <mat-checkbox #toggle2 [ngModel]="item.destacado" (ngModelChange)="actualizarDestacado(item.id, $event)"></mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="mas">
      <th mat-header-cell *matHeaderCellDef>Más</th>
      <td mat-cell *matCellDef="let item" class="text-start">
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon class="material-icons-outlined">more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">

          <button mat-menu-item (click)="openModalEdit(item)">
            <i-tabler class="me-2" name="pencil"></i-tabler>
            <span>Editar</span>
          </button>

          <button mat-menu-item (click)="openModalDelete(item)">
            <i-tabler class="me-2 text-danger" name="trash"></i-tabler>
            <span class="text-danger">Eliminar</span>
          </button>

        </mat-menu>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>

<mat-paginator [pageSize]="50" [pageSizeOptions]="[20, 50, 100]" [showFirstLastButtons]="true">
</mat-paginator> -->