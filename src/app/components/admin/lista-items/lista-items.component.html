<!-- <mat-accordion [multi]="true">
  <mat-expansion-panel *ngFor="let group of itemsGroup; let i = index" expanded="i">
    <mat-expansion-panel-header>
      <p class="h4 fw-light mb-0">{{group.categoria}}</p>
    </mat-expansion-panel-header>
    <div class="grillaItems ps-3">
      <app-card-item *ngFor="let item of group.items" [idNegocio]="idNegocio" [item]="item"></app-card-item>
    </div>
  </mat-expansion-panel>
</mat-accordion> -->



<div class="table-responsive">

  <table mat-table [dataSource]="itemsData" matSort class="example-table" [trackBy]="trackByPublicado">

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Código</th>
      <td mat-cell *matCellDef="let item"> {{ item.id }} </td>
    </ng-container>

    <ng-container matColumnDef="fechaCreacion">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha creación</th>
      <td mat-cell *matCellDef="let item"> {{ item.fechaCreacion.toDate() | date: 'short' }} </td>
    </ng-container>

    <ng-container matColumnDef="imagen">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Imagen</th>
      <td mat-cell *matCellDef="let item"> <img class="imageProductAdmin border my-2 rounded-3" [src]="item.image">
      </td>
    </ng-container>

    <ng-container matColumnDef="nombre">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
      <td mat-cell *matCellDef="let item"> {{item.nombre}} </td>
    </ng-container>

    <ng-container matColumnDef="categoria">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Categoria</th>
      <td mat-cell *matCellDef="let item"> {{item.categoria}} </td>
    </ng-container>

    <ng-container matColumnDef="precio">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Precio</th>
      <td mat-cell *matCellDef="let item"> {{item.precio}} </td>
    </ng-container>

    <ng-container matColumnDef="precioDescuento">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Precio dscto.</th>
      <td mat-cell *matCellDef="let item"> {{item.precioDescuento}} </td>
    </ng-container>

    <ng-container matColumnDef="descripcion">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Descripcion</th>
      <td mat-cell *matCellDef="let item"> {{item.descripcion | slice: 0:64}}...</td>
    </ng-container>

    <ng-container matColumnDef="publicado">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Publicado</th>
      <td mat-cell *matCellDef="let item">
        <mat-slide-toggle color="primary" #toggle [ngModel]="item.publicado" (ngModelChange)="actualizarPublicado(item.id, $event)">
        </mat-slide-toggle>
      </td>
    </ng-container>

    <ng-container matColumnDef="destacado">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Destacado</th>
      <td mat-cell *matCellDef="let item">
        <!-- <mat-slide-toggle color="primary" #toggle [ngModel]="noticia.publicado" (ngModelChange)="actualizarPublicado(noticia.id, noticia, $event)">
                </mat-slide-toggle> -->
        <mat-checkbox #toggle2 [ngModel]="item.destacado" (ngModelChange)="actualizarDestacado(item.id, $event)"></mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="mas">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let item" class="text-end">
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon class="material-icons-outlined">more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">

          <button mat-menu-item (click)="openModalEdit(item)">
            <i-tabler class="me-2" name="pencil"></i-tabler>
            <span>Editar</span>
          </button>

          <!-- <button mat-menu-item [routerLink]=" '/admin/noticias/' + item.id ">
            <mat-icon class="material-icons-outlined">sticky_note_2</mat-icon>
            <span>Detalles</span>
          </button> -->

          <!-- <mat-divider></mat-divider> -->

          <button mat-menu-item (click)="openModalDelete(item)">
            <i-tabler class="me-2 text-danger" name="trash"></i-tabler>
            <span class="text-danger">Eliminar</span>
          </button>

        </mat-menu>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>

<mat-paginator [pageSize]="20" [pageSizeOptions]="[20, 50, 100]" [showFirstLastButtons]="true">
</mat-paginator>